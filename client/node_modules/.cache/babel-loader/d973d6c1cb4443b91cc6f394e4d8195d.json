{"ast":null,"code":"'use strict';\n\nif (typeof Promise === 'undefined') {\n  // install ES6 Promise polyfill\n  require('../vendor/promise');\n}\n\nvar interceptor = require('rest/interceptor');\n\nvar callbackify = interceptor({\n  success: function (response) {\n    var callback = response && response.callback;\n\n    if (typeof callback === 'function') {\n      callback(null, response.entity, response);\n    }\n\n    return response;\n  },\n  error: function (response) {\n    var callback = response && response.callback;\n\n    if (typeof callback === 'function') {\n      var err = response.error || response.entity;\n      if (typeof err !== 'object') err = new Error(err);\n      callback(err);\n    }\n\n    return response;\n  }\n});\nmodule.exports = callbackify;","map":{"version":3,"sources":["C:/Users/Fabricien/Documents/Projet/Touriste/client/node_modules/mapbox/lib/callbackify.js"],"names":["Promise","require","interceptor","callbackify","success","response","callback","entity","error","err","Error","module","exports"],"mappings":"AAAA;;AAEA,IAAI,OAAOA,OAAP,KAAmB,WAAvB,EAAoC;AAClC;AACAC,EAAAA,OAAO,CAAC,mBAAD,CAAP;AACD;;AAED,IAAIC,WAAW,GAAGD,OAAO,CAAC,kBAAD,CAAzB;;AAEA,IAAIE,WAAW,GAAGD,WAAW,CAAC;AAC5BE,EAAAA,OAAO,EAAE,UAAUC,QAAV,EAAoB;AAC3B,QAAIC,QAAQ,GAAGD,QAAQ,IAAIA,QAAQ,CAACC,QAApC;;AAEA,QAAI,OAAOA,QAAP,KAAoB,UAAxB,EAAoC;AAClCA,MAAAA,QAAQ,CAAC,IAAD,EAAOD,QAAQ,CAACE,MAAhB,EAAwBF,QAAxB,CAAR;AACD;;AAED,WAAOA,QAAP;AACD,GAT2B;AAU5BG,EAAAA,KAAK,EAAE,UAAUH,QAAV,EAAoB;AACzB,QAAIC,QAAQ,GAAGD,QAAQ,IAAIA,QAAQ,CAACC,QAApC;;AAEA,QAAI,OAAOA,QAAP,KAAoB,UAAxB,EAAoC;AAClC,UAAIG,GAAG,GAAGJ,QAAQ,CAACG,KAAT,IAAkBH,QAAQ,CAACE,MAArC;AACA,UAAI,OAAOE,GAAP,KAAe,QAAnB,EAA6BA,GAAG,GAAG,IAAIC,KAAJ,CAAUD,GAAV,CAAN;AAC7BH,MAAAA,QAAQ,CAACG,GAAD,CAAR;AACD;;AAED,WAAOJ,QAAP;AACD;AApB2B,CAAD,CAA7B;AAuBAM,MAAM,CAACC,OAAP,GAAiBT,WAAjB","sourcesContent":["'use strict';\r\n\r\nif (typeof Promise === 'undefined') {\r\n  // install ES6 Promise polyfill\r\n  require('../vendor/promise');\r\n}\r\n\r\nvar interceptor = require('rest/interceptor');\r\n\r\nvar callbackify = interceptor({\r\n  success: function (response) {\r\n    var callback = response && response.callback;\r\n\r\n    if (typeof callback === 'function') {\r\n      callback(null, response.entity, response);\r\n    }\r\n\r\n    return response;\r\n  },\r\n  error: function (response) {\r\n    var callback = response && response.callback;\r\n\r\n    if (typeof callback === 'function') {\r\n      var err = response.error || response.entity;\r\n      if (typeof err !== 'object') err = new Error(err);\r\n      callback(err);\r\n    }\r\n\r\n    return response;\r\n  }\r\n});\r\n\r\nmodule.exports = callbackify;\r\n"]},"metadata":{},"sourceType":"script"}